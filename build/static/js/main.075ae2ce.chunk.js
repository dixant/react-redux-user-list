(this["webpackJsonpreact-redux-user-list"]=this["webpackJsonpreact-redux-user-list"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/loadMore.cffa9d9d.gif"},37:function(e,t,a){e.exports=a(52)},43:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(18),c=a.n(s),o=(a(42),a(43),a(58)),i=a(35),l=a(9),u=a(10),E=a(16),d=a(11),S=a(7),p=a(15),m=a(14),f={FETCH_USERS:"FETCH_USERS",FETCH_USERS_BEGIN:"FETCH_USERS_BEGIN",FETCH_USERS_SUCCESS:"FETCH_USERS_SUCCESS",FETCH_USERS_FAILURE:"FETCH_USERS_FAILURE",FETCH_FAVOURITE_USERS_BEGIN:"FETCH_FAVOURITE_USERS_BEGIN",FETCH_FAVOURITE_USERS_SUCCESS:"FETCH_FAVOURITE_USERS_SUCCESS",FETCH_FAVOURITE_USERS_FAILURE:"FETCH_FAVOURITE_USERS_FAILURE",PUT_FAVOURITE_USERS_SUCCESS:"PUT_FAVOURITE_USERS_SUCCESS",PUT_USERS_SUCCESS:"PUT_USERS_SUCCESS",ADD_FAVOURITE_USERS_SUCCESS:"ADD_FAVOURITE_USERS_SUCCESS"},v={baseURL:"https://react-redux-user-list.herokuapp.com/"}.baseURL,U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return t(_()),fetch("".concat(v,"posts?userId=").concat(e)).then((function(e){return e.json()})).then((function(e){var a=e.length&&e[0].userId,r=a+1<11;setTimeout((function(){t(O(e,r,a))}),3e3)})).catch((function(e){return t(C(e))}))}},h=function(e,t){t=JSON.stringify(t);var a=new Request("".concat(v,"posts/").concat(e),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:t});return function(e){return fetch(a).then((function(e){return e.json()})).then((function(t){return t.isFavourite?e(g(t)):e(R(t)),e(T(t)),!0})).catch((function(e){return!1}))}},_=function(){return{type:f.FETCH_USERS_BEGIN}},O=function(e,t,a){return{type:f.FETCH_USERS_SUCCESS,payload:{users:e,hasMore:t,userId:a}}},C=function(e){return{type:f.FETCH_USERS_FAILURE,payload:{error:e}}},F=function(){return{type:f.FETCH_FAVOURITE_USERS_BEGIN}},b=function(e){return{type:f.FETCH_FAVOURITE_USERS_SUCCESS,payload:{favUsers:e}}},y=function(e){return{type:f.FETCH_FAVOURITE_USERS_FAILURE,payload:{error:e}}},R=function(e){return{type:f.PUT_FAVOURITE_USERS_SUCCESS,payload:{user:e}}},g=function(e){return{type:f.ADD_FAVOURITE_USERS_SUCCESS,payload:{user:e}}},T=function(e){return{type:f.PUT_USERS_SUCCESS,payload:{user:e}}},j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(E.a)(this,Object(d.a)(t).call(this,e))).handleFavourite=function(e){var t=a.props.userData,r=!t.isFavourite;a.props.onChange(t.id,Object.assign({},t,{isFavourite:r}),(function(){a.setState({isFavourite:!a.state.isFavourite})}))},a.state={isFavourite:a.props.userData.isFavourite},a.handleFavourite=a.handleFavourite.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",checked:this.state.isFavourite,onChange:this.handleFavourite}),n.a.createElement("span",{className:"slider"}))}}]),t}(n.a.Component),I=a(54),N=a(55),A=a(56),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(E.a)(this,Object(d.a)(t).call(this,e))).onScrollCall=function(){a.refs.userScroll.scrollTop+a.refs.userScroll.clientHeight>=a.refs.userScroll.scrollHeight&&a.props.hasMore&&!a.props.isLoading&&a.props.dispatch(U(parseInt(a.props.userId)+1))},a.handleFavourite=a.handleFavourite.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.users.length<1&&this.props.dispatch(U()),this.refs.userScroll.addEventListener("scroll",this.onScrollCall)}},{key:"componentWillUnmount",value:function(){this.refs.userScroll.removeEventListener("scroll",this.onScrollCall)}},{key:"handleFavourite",value:function(e,t,a){this.props.dispatch(h(e,t)).then((function(e){!0===e&&a()}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.error,s=t.hasMore,c=t.isLoading,o=t.users;return n.a.createElement("div",{id:"user-scroll-view",ref:"userScroll"},n.a.createElement(I.a,null,n.a.createElement("div",{className:"cards"},o.length>0?o.map((function(t,a){return n.a.createElement("div",{className:"card",key:a},n.a.createElement(I.a,{className:"card-title"},n.a.createElement(N.a,null,n.a.createElement(A.a,null,n.a.createElement("span",{className:"lineh30"},"ID: ",t.id)),n.a.createElement(A.a,{className:"text-right"},n.a.createElement(j,{userList:"true",onChange:e.handleFavourite,userData:t})))),n.a.createElement("p",{className:"card-header"},"Title: ",t.title),n.a.createElement("span",{className:"card-summary"},"Body: ",t.body),n.a.createElement("span",{className:"card-meta"},"ID: ",t.id,", User ID: ",t.userId))})):null)),r&&n.a.createElement("div",{style:{color:"#900"}},r),c&&n.a.createElement("div",{className:"loading-container"},n.a.createElement("img",{alt:"loading",src:a(28)})),!s&&n.a.createElement("div",null,"You did it! You reached the end!"))}}]),t}(n.a.Component),D=Object(m.b)((function(e){return{users:e.users.users||[],isLoading:e.users.isLoading,error:e.users.error,hasMore:e.users.hasMore,userId:e.users.userId}}))(L),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(E.a)(this,Object(d.a)(t).call(this,e))).state={},a.handleFavourite=a.handleFavourite.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){return e(F()),fetch("".concat(v,"posts?isFavourite=true")).then((function(e){return e.json()})).then((function(t){setTimeout((function(){e(b(t))}),3e3)})).catch((function(t){return e(y(t))}))}))}},{key:"handleFavourite",value:function(e,t){this.props.dispatch(h(e,t))}},{key:"render",value:function(){var e=this,t=this.props,r=t.error,s=t.isLoading,c=t.favUsers;return n.a.createElement("div",null,n.a.createElement(I.a,null,n.a.createElement("div",{className:"cards"},c&&c.length>0?c.map((function(t,a){return n.a.createElement("div",{className:"card",key:a},n.a.createElement(I.a,{className:"card-title"},n.a.createElement(N.a,null,n.a.createElement(A.a,null,n.a.createElement("span",{className:"lineh30"},"ID: ",t.id)),n.a.createElement(A.a,{className:"text-right"},n.a.createElement(j,{userList:"true",onChange:e.handleFavourite,userData:t})))),n.a.createElement("p",{className:"card-header"},"Title: ",t.title),n.a.createElement("span",{className:"card-summary"},"Body: ",t.body),n.a.createElement("span",{className:"card-meta"},"ID: ",t.id,", User ID: ",t.userId))})):null)),r&&n.a.createElement("div",{style:{color:"#900"}},r),s&&n.a.createElement("div",{className:"loading-container"},n.a.createElement("img",{alt:"loading",src:a(28)})))}}]),t}(n.a.Component),w=Object(m.b)((function(e){return{favUsers:e.favUsers.favUsers||[],isLoading:e.favUsers.isLoading,error:e.favUsers.error}}))(H),P=a(59),V=a(31),k=a(33),x=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("nav",{className:"navbar"},n.a.createElement("h2",{className:"navbar-brand"},"React Redux User List Application"),n.a.createElement("div",{className:"collapse navbar-collapse"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item active"},n.a.createElement(P.a,{exact:!0,className:"nav",activeClassName:"active-nav",to:"/"},"UserList")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(P.a,{exact:!0,className:"nav",activeClassName:"active-nav",to:"/favourites"},"Favourite UserList")))))),n.a.createElement(o.a,null,n.a.createElement(i.a,{exact:!0,path:"/"},n.a.createElement(D,null)),n.a.createElement(i.a,{path:"/favourites"},n.a.createElement(w,null)),n.a.createElement(i.a,null,n.a.createElement(D,null))),n.a.createElement("a",{href:"/",className:"float"},n.a.createElement(V.a,{icon:k.a,className:"my-float"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(8),M=a(34),G=a(6),J=a(20);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={users:[],isLoading:!1,error:null,hasMore:!0,userId:1};function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K={favUsers:[],isLoading:!1,error:null};var Q=Object(B.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=f.FETCH_USERS_BEGIN,r=f.FETCH_USERS_SUCCESS,n=f.FETCH_USERS_FAILURE,s=f.PUT_USERS_SUCCESS;switch(t.type){case a:return Y({},e,{isLoading:!0,error:null});case r:return Y({},e,{isLoading:!1,hasMore:t.payload.hasMore,users:[].concat(Object(G.a)(e.users),Object(G.a)(t.payload.users)),userId:t.payload.userId});case n:return Y({},e,{isLoading:!1,error:t.payload.error,users:[]});case s:var c=(t.payload||{}).user||{},o=c.id,i=c.isFavourite,l=e.users.map((function(e){return e.id===o&&(e.isFavourite=i),e}));return Y({},e,{users:l||[]});default:return e}},favUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=f.FETCH_FAVOURITE_USERS_BEGIN,r=f.FETCH_FAVOURITE_USERS_SUCCESS,n=f.FETCH_FAVOURITE_USERS_FAILURE,s=f.PUT_FAVOURITE_USERS_SUCCESS,c=f.ADD_FAVOURITE_USERS_SUCCESS;switch(t.type){case a:return z({},e,{isLoading:!0,error:null});case r:return z({},e,{isLoading:!1,favUsers:Object(G.a)(e.favUsers).length<Object(G.a)(t.payload.favUsers).length?Object(G.a)(t.payload.favUsers):Object(G.a)(e.favUsers)});case n:return z({},e,{isLoading:!1,error:t.payload.error,favUsers:[]});case s:var o,i=t.payload.user.id;return o=e.favUsers.filter((function(e){return e.id!==i})),z({},e,{favUsers:o||[]});case c:return z({},e,{favUsers:[].concat(Object(G.a)(e.favUsers),[t.payload.user]).sort((function(e,t){return e.id-t.id}))||[]});default:return e}}}),X=a(57),Z=Object(B.d)(Q,Object(B.a)(M.a));c.a.render(n.a.createElement(m.a,{store:Z},n.a.createElement(X.a,null,n.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);